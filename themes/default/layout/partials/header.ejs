<!-- BEGIN header -->
<header id="header" class="page-header <%- menu ? '' : 'no-menu'%>">
  <a class="menu-button mobile-header-button" id="mobile-menu-button" style="<%- menu ? '' : 'display:none'%>"></a>
  <a class="toc-button mobile-header-button" id="mobile-toc-button" ></a>
  <a id="logo" href="<%- config.base_url %>" title="<%- config.title %>">
    <img src="<%- url_for("/images/logo.png") %>" alt="logo">
    <span><%= config.title %></span>
  </a>
  <nav id="nav">
    <div>
      <form id="search-form" @submit.prevent="submit">
        <input type="text" id="search-query" @focus="showSuggest" @blur="hideSuggest" v-model="term"/>
        <img id="search-icon" src="/images/search.png" />
        <ul id="search-suggest" :class="{open: suggestOpen}">
          <span :class="{'no-result': succeed && matches.length === 0, loading: !succeed && !failed, failed: failed}" ></span>
          <li v-for="record in matches" :key="record.url"> 
            <a :href="record.url">
              <span>{{record.title}}</span>
              <p class="categories">{{record.type}}</p>
            </a>
          </li>
        </ul>
      </form>
      <%- js('js/search') %>
    </div>
    <div>
      <ul id="nav-toc">
        <%_ 
          for (const key in site.data.sitemap) { 
            -%><li><%- link_to(url_for(key + '/index.html'), site.data.sitemap[key].name, {class: `nav-link ${page.path.match(key+'/') ? 'current' : ''}`}) %></li><%_ 
          } 
        -%>
      </ul>
    </div>
  </nav>
</header>
<!-- END header -->