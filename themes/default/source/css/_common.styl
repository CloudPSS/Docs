@import "_settings"
@import "_codeblock"
@import "_quoteblock"
@import "_video"
@import "_katex"
@import "_table"

body
  font-family: $body-font
  font-size: $body-font-size
  color: $medium
  background-color: white
  -webkit-text-size-adjust: none
  @media (max-width: $mobile-width)
    #main
      font-size: @font-size * 0.9
      
  counter-reset: article h2 h3 h4 h5 h6 imgbox
      
article
  counter-increment: article
  counter-reset: h2 h3 h4 h5 h6 imgbox table
  h2
    counter-reset: h3 h4 h5 h6 imgbox table
  h3
    counter-reset: h4 h5 h6
  h4
    counter-reset: h5 h6
  h5
    counter-reset: h6
  h6
    counter-reset: ;
  for i in 2..6
    h{i}
      counter-increment: s("h%s", i)

  imgbox
    display: block
    caption
      display: block
      caption-style(imgbox, "å›¾ ")
    
h1, h2, h3, h4
  font-weight: 600
  color: $dark

figure
  margin: 1.2em 0

hr
  border-color: $border
  color: rgba(0,0,0,0)
  border-width: 1px 0
  border-top: solid 

p, dd
  word-spacing: 0.05em

abbr[title]
  cursor: help   
  text-decoration: none;
  border-bottom: 1px dotted #777
  @media print 
    &:after
      content: "(" attr(title) ")"
      color: #777
      
br
  word-spacing: 0
   
a
  text-decoration: none 
  &.footnote-backref
    user-select: none

.print-only
  @media screen
    display: none
.screen-only
  @media print
    display: none

@media print
  body, #main
    color: rgb(0,0,0)
  mark
    border: 2px solid yellow !important
  h1,h2,h3,h4,h5
    color: rgb(0,0,0)
    page-break-after: avoid
    page-break-before: avoid
  img, imgbox
    page-break-inside: avoid
  h2+p
    page-break-before: avoid
  a.footnote-backref
    display: none
  a:link:after, a:visited:after { content:" [" attr(href) "] "; }
  sup.footnote-ref > a, a.markdownIt-Anchor
    &:link:after, &:visited:after
       content:""
