---
title: 图纸
description: 图纸
sidebar_position: 10
---

## 页面功能

当仿真拓扑较大时，可利用图纸功能将拓扑分开放置到不同的图纸上。每个项目至少包含一个图纸。

## 功能说明

### 添加图纸

对任意的项目都可添加任意数量的图纸。操作方法如下图所示，首先点击实现标签页的图纸选项，然后点击新建图纸即可。

:::warning
新添加的图纸名称不能重复，否则会报错。
:::

### 删除图纸

选择待删除的图纸，鼠标右键选择删除即可完成删除。图纸删除后，该图纸内的所有元件也将随之删除。

### 重命名图纸

选择待重命名的图纸，在右侧属性板块上面编辑图纸名称即可。

### 图纸超链接

当仿真模型较大且具有大量的图纸时，为了便于快速定位到某一特定图纸，SimStudio 提供了图纸超链接功能。该功能类似于 Windows 系统的快捷方式，使用方法为：从模型库中拖拽图纸超链接元件至拓扑编辑区，选择待链接的图纸，鼠标右键选择**复制图纸链接**，再点击图纸超链接元件并在右侧参数面板的**目标地址栏**中粘贴刚复制的待链接图纸的地址，该地址即就是图纸再浏览器地址栏#号后面的链接。完成后，双击图纸超链接元件，可直接跳转到所链接的图纸。

![图纸](./canvas.png)

### 全局变量

图纸还提供了全局变量功能，可在仿真项目范围内被各元件的参数栏使用，便于用户管理具有相同全局变量值的元件参数。全局变量以字典的形式存储，可在不选中任何其它元件或模块时，在右侧参数标签下进行编辑。点击**新建全局变量**来添加全局变量.

![全局变量](./variable.png)

每个全局变量包含**变量名**、**值/表达式**两个设置选项。其中：

    1. 变量名应以字母或`_`符号开头，每个全局变量以及当前模块参数的变量名都应是唯一的。
    2. **值/表达式**输入框用于输入全局变量的值，包括值模式和表达式模式两种输入模式，关于两种输入模式的介绍详见[参数及引脚体系帮助](../../../../xstudio/simstudio/basic/parameterSystem/index.md)
    3. 在元件或自定义模型中调用全局变量时应为表达式形式，且在全局变量前冠以`$`标识符为前缀，例如全局变量名为 R 时，在元件处调用该全局变量时应切换为表达式输入模式填写`$R`，如下图所示。
   
![全局变量调用](./calling.png)

<!-- :::warning
现在在调用全局变量时，必须使用“=”符号构建表达式！（这一点和CloudPSS 4.0版本不同）
::: -->

### 图纸选项

支持配置图纸拓扑编辑窗口的网格、视图等显示特性。

#### 背景颜色

可以选择主题色，或者自定义图纸的背景颜色，提供取色器工具。

#### 网格类型

为图纸拓扑编辑窗口选择不同的网格。

#### 网格颜色

配置网格颜色。

#### 页面分割线

开启后会在图纸中显示页面分割线。

#### 默认拖拽画布

开启后常按鼠标左键可以拖拽画布。

#### 元件标签

开启后会显示图纸中所有元件的标签（名称）。

#### 引脚标签

开启后会显示图纸中所有元件的引脚标签。

## 常见问题

不同图纸间的元件如何连接？

:   图纸间的元件引脚通过标号进行连接。

为什么全局变量设置无效？

:   不同的图纸间可通过引脚标号进行连接。在使用全局变量过程中，需要注意以下几点：
    1. 全局参数仅用于配置元件参数，因此必须在仿真开始前赋值，参数在仿真过程中不可改变。
    2. 全局变量之间可以互相引用。
    
    ![全局参数相互引用](./8.png)


