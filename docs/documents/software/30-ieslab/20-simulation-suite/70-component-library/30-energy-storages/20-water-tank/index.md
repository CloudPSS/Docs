---
title: 储水罐
description: 该元件用以建模储水罐，通过储水实现储热。

sidebar_position: 200

tags: 
- 元件
- IESLab
---

## 元件定义

**该元件指储水罐，利用水罐的能量储存和热惯性，解耦源与荷，动态调节机组出力**

进口流量
$$
P_{in}-ρgH=K_{in} m_{in} |m_{in} |
$$
出口流量
$$
ρgH-P_{out}-=K_{out} m_{out} |m_{out} |
$$
式中，$P_{in}$、$P_{out}$为水罐进出口压力，$m_{in}$、$m_{out}$为水罐进出口质量流量，$K_{in}$、$K_{out}$为水罐进出口压力下降系数。

水罐温度
$$
T_{new} = \frac{\left( {{\rho AH_{tank}T}_{old} + m_{in}T_{in}\mathrm{\Delta}t - m_{out}T_{old}\mathrm{\Delta}t} \right)}{\rho AH_{tank} + m_{in}\mathrm{\Delta}t - m_{out}\mathrm{\Delta}t}
$$
式中，$T_{old}$，$T_{new}$为水罐混合前后的温度，$H_{tank}$为水罐水位高度

![储水罐](./IES-Charger-WaterTank.svg )




## 元件说明

元件参数标签页包括**属性**、**参数**、**引脚**三类参数，下面对每类参数进行详细说明。

### 属性

CloudPSS 提供了一套统一的元件属性功能，关于元件属性参数的配置，详见 [参数卡](docs/documents/software/10-xstudio/20-simstudio/40-workbench/20-function-zone/30-design-tab/30-param-panel/index.md) 页面。

### 参数

#### 设备参数

| 参数名 | 键值 (key) | 单位 | 备注 | 类型 | 描述 |
| :--- | :--- | :--- | :--: | :--- | :--- |
| 生产厂商 | `manufacturer` |  | 生产厂商 | 文本 | 生产厂商 |
| 设备型号 | `equipType` |  | 设备型号 | 文本 | 设备型号 |
| 入口侧局部压降系数 | `InletLocalPressureDropCoe` | $\mathrm{kPa/(m^3 \cdot s^{-1})^2}$ | 入口侧局部压降系数 | 实数 | 入口侧局部压降系数 |
| 出口侧局部压降系数 | `OutletLocalPressureDropCoe` | $\mathrm{kPa/(m^3 \cdot s^{-1})^2}$ | 出口侧局部压降系数 | 实数 | 出口侧局部压降系数 |
| 罐底面积 | `FloorArea` |  | 罐底面积 | 实数 | 罐底面积 |
| 最大允许水位高度 | `MiniHeatOutletTemp` | m | 最大允许水位高度 | 实数 | 最大允许水位高度，运行约束参数在计算时不生效，无意义 |
| 最小允许水位高度 | `MaxHeatOutletTemp` | m | 最小允许水位高度 | 实数 | 最小允许水位高度，运行约束参数在计算时不生效，无意义 |

#### 基础参数

| 参数名 | 键值 (key) | 单位 | 备注 | 类型 | 描述 |
| :--- | :--- | :--- | :--: | :--- | :--- |
| 元件名称 | `CompName` |  | 元件名称 | 文本 | 元件名称 |
| 待选设备类型 | `DeviceSelection` |  | 从设备库中选择设备类型 | 选择 | **选择数据管理模块录入的设备型号**，将自动绑定对应设备的厂家、产品型号和额定运行参数 | 

#### 仿真参数

在仿真参数中编辑元件的仿真边界条件。

| 参数名 | 键值 (key)  | 单位 | 备注 | 类型 | 描述 |
| :--- | :--- | :--- | :--: | :--- | :--- |
| 初始水位高度 | `InitialWaterLevel` | m | 初始水位高度 | 自然数 | 仿真初始时刻水位高度 |
| 罐初始水温 | `InitialWaterTemp` | $^{\circ}$C | 罐初始水温 | 实数 | 仿真初始时刻水温。|


#### 优化参数

在优化参数中编辑元件的优化条件。

| 参数名 | 键值 (key)  | 单位 | 备注 | 类型 | 描述 |
| :--- | :--- | :--- | :--: | :--- | :--- |
| 始末最大水位比例偏差 | `MaxLevelDifference` | % | 始末时刻的最大水位比例差 | 实数  | 始末水位比例偏差 =  ABS (计算周期初始时刻水位 - 计算周期结束时刻水位) /水位高度，比例范围为 0-100%。|
| 始末最大水温差 | `MaxTemperatureDifference` | $^{\circ}$C | 始末时刻最大水温差 | 实数 |始末最大水温差= ABS（计算周期初始时刻水温 - 计算周期结束时刻水温） |


### 引脚

引脚用于将元件与其他电设备连接，支持**线连接**和**信号名**的连接方式。

引脚的**名称、键值、维度、定义描述**的详细说明如下表所示。

| 引脚名 | 键值 (key)  | 维度 | 描述 |
| :--- | :--: | :--- | :--- |
| 水进口 | `InletWater` | 1×1 | 可以在引脚处输入相同的字符使得设备与其他元件相连|
| 水出口 | `OutletWater` | 1×1 | 可以在引脚处输入相同的字符使得设备与其他元件相连|


## 常见问题

元件模型是否具有代表性？

:   IESLab 平台的设备主要关注**能量流的变化和转换**过程，主要建立能量转换的**通用简化模型**。无论是水、岩石、沸石、耐火泥、砂石、混凝土等**显式储热**，还是**潜式储热**或**化学储热**，都是通过储存热能的设备，均可以使用该通用模型。

水罐是否考虑斜温层？
:   未考虑，水罐模型不考虑进出口水的流动状态，不考虑内部复杂的热传导对流等热动力学过程，也不考虑实际的斜温层模型（储罐内由于温度差异形成的一个明显的温度梯度层，它将热水罐的上部热介质和下部冷介质分隔开，实现了一个容器同时盛装高低温两种介质）。平台仅关注热能储存。

水罐的运行约束是否有效？
:   无效，数据管理模块输入的最大允许水位高度和最小允许水位高度等运行约束，在仿真和优化模块均为生效。

仿真结果中，为什么水位高度一直不变？
:   平台流体为闭式系统，流体质量守恒，所以水罐进出流量相等，因此水位不变，仿真参数中的初始水位高度为计算初值，优化参数的始末最大水位比例偏差没有任何意义。

水罐能否实现储热？
:   可以，当热力子系统中，水罐和其他冷热源设备共同供能，且其他其他冷热源设备均为功率模式时，水罐会根据负荷需求，进行储热和放热，为被动储热；当其他其他冷热源设备有温度模式时，水罐不能主动进行储热和放热。

优化是否考虑了始末最大水温差？
:   未考虑，平台首先满足负荷需求，此时若始末水温差超过优化参数的**始末最大水温差**时，该参数无效。

是否考虑了储热和放热效率？
:   未考虑。
