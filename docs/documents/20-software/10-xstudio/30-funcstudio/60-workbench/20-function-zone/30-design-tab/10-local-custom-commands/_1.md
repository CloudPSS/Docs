---
title: 本地：自定义命令
description: 本地：自定义命令
sidebar_position: 10
---


本节首先介绍 FuncStudio 实现标签页的本地：自定义命令功能，然后通过 X 个案例介绍本地：自定义命令功能使用方法。该功能仅支持在 FuncStudio 平台使用。

## 功能定义

支持在本地接入函数的算法内核，即如何编写函数的算法内核、函数算法内核如何获取配置好的外部接口参数以及如何格式化输出函数的计算结果。

## 功能说明

### 命令

#### Python 内核命令格式

#### Matlab 内核命令格式

### 工作目录

### 附加环境变量

支持常量和表达式形式的参数输入

## 案例

### 本地 Python 内核实现

### 本地 Matlab 内核实现

### 附加环境变量

## 常见问题

### 对于 Matlab 内核的工作目录必须和 Matlab  SDK 保持一致吗？

### 附加环境变量的作用？

## 案例

### 云端执行代码接入
### 本地算法文件接入

## 常见问题

### 本地自定义命令可以直接在终端执行吗？

Funcstuio 为什么叫执行器，因为它是一个帮助用户在终端执行计算内核的工具，本质上相当于在本地打开命令窗口，先 cd 到计算内核所在的工作目录，再执行命令窗口里面的语句，因此上述命令也可以在终端执行。

:::tip

若本地只有一个 Python 环境，确认安装好 SDK 后，在命令窗口内直接输入 python adder.py 即可执行该函数。如下图所示：

<!-- ![默认环境](./默认环境.png "默认环境") -->

若本地有多个 Python 环境，则需要指定安装有 SDK 的 Python 环境来执行，如下图所示：

<!-- ![指定环境](./指定环境.png "指定环境") -->

:::

:::tip

在实现标签页的命令窗口内输入的执行语句格式固定为：

**‘指定的执行算法内核的虚拟 python 环境’ + 空格 + run.py + 空格 + “Matlab脚本/函数名称”**

即用指定的python环境执行matlab sdk 中的 run.py文件，用run.py文件启动Matlab来执行内核脚本。

以执行上述乘法函数的计算内核为例，先指定python环境 加 run.py，最后加上product这个需要执行的Matlab脚本名称

工作目录就是我们存放product.m文件的位置，也就是matlab sdk 所在的位置。

这样就将本地的Matlab计算内核以一个乘法函数的形式接入到了FuncStudio。

<!-- ![实现](./实现.png "实现") -->

:::